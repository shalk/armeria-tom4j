<plugin>
  <groupId>org.xolstice.maven.plugins</groupId>
  <artifactId>protobuf-maven-plugin</artifactId>
  <version>${plug.protobuf-maven-plugin.version}</version>
  <configuration>
    <protocArtifact>com.google.protobuf:protoc:${dep.protobuf.version}:exe:${os.detected.classifier}</protocArtifact>
    <pluginId>grpc-java</pluginId>
    <pluginArtifact>io.grpc:protoc-gen-grpc-java:${dep.grpc.version}:exe:${os.detected.classifier}</pluginArtifact>
  </configuration>
  <executions>
    <execution>
      <id>gen-grpc</id>
      <goals>
        <goal>compile</goal>
        <goal>compile-custom</goal>
      </goals>
      <phase>generate-resources</phase>
    </execution>
  </executions>
</plugin>
